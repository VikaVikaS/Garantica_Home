$(document).on("ready",function(){function e(){window.outerWidth<765?$("#meta-mob").length||($("head").find('meta[name*="viewport"]').remove(),$("head").append('<meta id="meta-mob" name="viewport" content="width=764, user-scalable=no">')):$("#meta-mob").length&&($("head").find("#meta-mob").remove(),$("head").append('<meta name="viewport" content="width=device-width, initial-scale=1">'))}$(".js-textarea").length&&$(".js-textarea").on("input",function(){var e=$(this),s=e.val().length,t=$(".js-textarea-holder");e.closest(t).find($(".js-textarea-counter")).text(s)}),$('input[type="number"]').length&&$('input[type="number"]').on("focusout",function(){var e=$(this),s=e.attr("max");e.val()>s&&e.val(s)}),$(".js-label-check").length&&($(".js-label-check").is(":checked")?$(".js-downloads-links").find($('input[type="file"]')).prop("disabled",!1):$(".js-downloads-links").find($('input[type="file"]')).prop("disabled",!0),$(".js-label-check").on("change",function(){$(this).is(":checked")?$(".js-downloads-links").find($('input[type="file"]')).prop("disabled",!1):$(".js-downloads-links").find($('input[type="file"]')).prop("disabled",!0)})),$(".js-options-category")&&$(".js-options-category").change(function(){var e=$(".js-options-category option:selected").val(),s=$(".js-options-fields");s.attr("data-value"),s.removeClass("visible"),s.filter('[data-value="'+e+'"]').addClass("visible")}),function(){$(".js-tab-item").length&&$(".js-tab-item").on("click",function(){var e=$(this),s=e.index(),t=$(".js-tabs"),i=e.closest(t).find($(".js-tabs-content")),n=e.closest(t).find($(".js-tabs-note"));$(".js-tab-item").not(e).removeClass("active"),e.addClass("active"),0==s||1==s?n.addClass("active"):n.removeClass("active"),i.removeClass("active"),i.eq(s).addClass("active")})}($),function(){!function(){if($(".js-select-trig").length){var e=$(".js-select");$(".js-select-field"),$(".js-select-trig").on("click",function(){$(this).closest(e).toggleClass("visible")})}}(),$(".js-filter-reset").length&&$(".js-filter-reset").on("click",function(){var e=$(this),s=$(".js-filter-row"),t=($(".js-filter-row .js-filter-inner-second.visible"),$(".js-filter-row .js-filter-inner-first.visible"),$('input[type="text"]'),$('input[type="radio"]'));$('input[type="checkbox"]'),$("select"),e.closest(s).removeClass("visible"),e.closest(s).hasClass("js-first-row")&&($(".js-first-row").removeClass("visible"),$(".js-second-row").removeClass("visible"),$(".js-filter-inner-first-trig").removeClass("active"),$(".js-filter-inner-second-trig").removeClass("active"),e.closest($("form"))[0].reset()),e.closest(s).hasClass("js-second-row")&&($(".js-second-row").removeClass("visible"),$(".js-filter-inner-second-trig").removeClass("active"),$(".js-first-row").find(t).length&&$(".js-first-row").find(t).attr("checked",!1))}),$(".js-filter").length&&($(".js-filter").each(function(){var e=$(this);e.find($(".js-filter-category")),e.find($(".js-filter-subcategory")),e.find($(".js-first-row")),e.find($(".js-second-row"))}),$(".js-filter-inner-first-trig").on("click",function(){var e=$(this),s=e.attr("data-id"),t=$(".js-filter-inner-first");t.attr("data-id"),$(".js-second-row").removeClass("visible"),$(".js-first-row").addClass("visible"),e.hasClass("js-filter-all")&&$(".js-first-row").removeClass("visible"),t.removeClass("active"),t.filter('[data-id="'+s+'"]').addClass("active")}),$(".js-filter-inner-second-trig").on("click",function(){var e=$(this).attr("data-id"),s=$(".js-filter-inner-second");s.attr("data-id"),$(".js-second-row").addClass("visible"),s.filter('[data-id="'+e+'"]').length||$(".js-second-row").removeClass("visible"),s.removeClass("active"),s.filter('[data-id="'+e+'"]').addClass("active")})),function(){var e=$(".js-city-select-drop"),s=$(".js-city-select"),t=$(".js-city-select-btn");if(t.length&&t.on("click",function(){var t=$(this);t.toggleClass("active"),t.closest(s).find(e).toggleClass("active")}),$(".js-group-list-btn").length){var i=$(".js-group-list");$(".js-group-list-btn").on("click",function(){var e=$(this);i.not(e.closest(i)).removeClass("active"),e.closest(i).toggleClass("active")}),$(".js-group-list-item").on("click",function(){var s=$(this),i=s.text().trim(),n=(s.data("region"),s.closest($(".js-group-list")).find($(".js-group-list-btn-text")).text().trim()),a="";a=s.hasClass("js-data-region")?n:i+", "+n,$(".js-city-select-btn-text").text(a),$(".js-city-select-btn-text").attr("title",a),e.removeClass("active"),t.removeClass("active")})}$(document).on("click",function(s){var i=$(s.target),n=i.closest(t).length,a=i.closest(e).length;n||a||!e.hasClass("active")||(e.removeClass("active"),t.removeClass("active"))})}()}($),function(){$(".js-burger-menu").length&&$(".js-burger-menu").on("click",function(){var e=$(".js-nav");$(this).toggleClass("visible"),e.toggleClass("visible")})}(),function(){function e(){if($("[data-popup]").length){var s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;$("[data-popup]").on("click",function(){var t=$(this).attr("href").substring(1),i=$(".js-popup");e=i.filter($("[id="+t+"]")),wrap=$("body"),i.removeClass("visible"),e.length&&e.addClass("visible"),wrap.addClass("hidden"),s&&wrap.css({top:-1*$(document).scrollTop(),position:"fixed",width:"100%"})}),$(".js-popup-close").on("click",function(){var e=$(this),t=$("body");if(e.closest($(".js-popup")).removeClass("visible"),t.removeClass("hidden"),s){var i=-1*$("body").offset().top;t.removeAttr("style"),$(window).scrollTop(i)}$(".js-calendar-small .fc-state-highlight").length?$('a[href="#selectDates"]').addClass("active"):$('a[href="#selectDates"]').removeClass("active")})}}e()}(),$.fn.spinner=function(e){e=$.extend({},e);return this.each(function(){var s=$(this),t=e.val?s.parent().find(e.val):s.find("input"),i=s.find(".js-spinner-plus"),n=s.find(".js-spinner-minus"),a=s.data("min")?s.data("min"):e.min,o=s.data("max")?s.data("max"):e.max;function l(){parseInt(t.val(),10)<=a?(n.addClass("disable"),t.val(a)):parseInt(t.val(),10)>=o?i.addClass("disable"):(n.removeClass("disable"),i.removeClass("disable"))}l(),t.on("keydown",function(e){e.preventDefault()}),i.on("click",function(e){if(e.preventDefault(),parseInt(t.val(),10)>=o)return!1;t.val(parseInt(t.val(),10)+1),l(),s.trigger("plus"),s.trigger("update")}),n.on("click",function(e){if(e.preventDefault(),parseInt(t.val(),10)<=a)return!1;t.val(parseInt(t.val(),10)-1),l(),s.trigger("minus"),s.trigger("update")})})},$(".js-spinner").spinner({}),function(){$(".js-gallery-main").length&&$(".js-gallery-main").slick({asNavFor:$(".js-gallery-thumbs"),prevArrow:'<span class="slick-arrow--prev"><svg class="icon-arrow-lg"><use xlink:href="#arrow"></use></svg></span>',nextArrow:'<span class="slick-arrow--next"><svg class="icon-arrow-lg"><use xlink:href="#arrow"></use></svg></span>'}),$(".js-gallery-thumbs").length&&$(".js-gallery-thumbs").slick({asNavFor:$(".js-gallery-main"),variableWidth:!0,focusOnSelect:!0,prevArrow:'<span class="slick-arrow--prev"><svg class="icon-arrow-lg"><use xlink:href="#arrow"></use></svg></span>',nextArrow:'<span class="slick-arrow--next"><svg class="icon-arrow-lg"><use xlink:href="#arrow"></use></svg></span>'})}(),function(){$("#fullpage").length&&($("#fullpage").fullpage({navigation:!0,navigationPosition:"right",anchors:["","features","index-scheme","video"],scrollOverflow:!1,afterResize:function(){$.fn.fullpage.reBuild()}}),$(window).on("resize",function(){}))}(),$(window).on("load",e),$(window).on("resize",e),function(){$(".js-input-mask").length&&$(".js-input-mask").mask("+99(999) 999-9999"),$("select").length&&$("select").selectric({arrowButtonMarkup:'<svg class="icon-arrow select-arrow"> <use xlink:href="#arrow"></use> </svg>',onBeforeOpen:function(){$(".selectric-wrapper").each(function(){$(this).find($(".selectric-scroll")).mCustomScrollbar()})}})}(),function(){!function(){if($(".js-slide-height-btn").length){var e=$(".js-slide-height-btn"),s=$(".js-slide-height"),t=$(".js-slide-height-txt"),i=!1;e.on("click",function(){var e=$(this),n=e.closest(s).find(t).outerHeight()+20;0==i?(e.addClass("active"),e.closest(s).animate({height:n,duration:200}).addClass("active"),i=!0):(e.removeClass("active"),e.closest(s).removeAttr("style").removeClass("active"),i=!1)})}}()}(),function(){$(".js-autocomplete").length&&$(".js-autocomplete").autocomplete({source:function(e,s){$.ajax({url:"cities.json",dataType:"json",data:{term:e.term},success:function(e){s(e)}})}}),$(window).resize(function(){$(".ui-autocomplete").css("display","none")})}(),function(){var e,s;e=$("form"),s=$('button[type="submit"]'),e.each(function(){var t=$(this).find($(".js-accredittion-agreement-first")),i=$(this).find($(".js-accredittion-agreement-second"));(t.length||i.length)&&$(this).find($('input[type="checkbox"]')).on("change",function(){t.is(":checked")&&i.is(":checked")?t.is(":checked")&&i.is(":checked")&&$(this).closest(e).find(s).prop("disabled",!1):$(this).closest(e).find(s).prop("disabled",!0)})}),$('input[type="file"]').each(function(){var e=0;$(this).on("change",function(){var s=$(this),t=(parseInt(s.get(0).files.length),s.next($("label")).find($(".js-downloaded-amount"))),i=s.next($("label")).find($(".js-downloaded-amount span"));t.length&&((e+=1)>0?(i.text(""+e),t.show()):t.hide())})})}(),function(){!function(){$('input[name="side-present"]#present-yes');var e=$('input[name="side-present"]#present-no'),s=$(".js-protocol-info");$('input[name="side-present"]').on("change",function(){var t=$(this).closest(s).find($(".js-present-reason"));e.is(":checked")?t.show():t.hide()}),$('input[name="winner-present"]#winner-present-yes');var t=$('input[name="winner-present"]#winner-present-no');$('input[name="winner-present"]').on("change",function(){var e=$(this).closest(s).find($(".js-present-reason"));t.is(":checked")?e.show():e.hide()})}()}(),$(".js-youtube-video-btn").length&&$(".js-youtube-video-btn").on("click",function(){var e=$(this),s=e.closest($(".js-youtube-video")).find($("iframe")),t=s.data("src");s.attr("src","https://www.youtube.com/embed/"+t+"?autoplay=1"),setTimeout(function(){e.closest($(".js-youtube-video")).addClass("hidden")},600)}),function(){$(".js-anchor-link").on("click",function(e){e.preventDefault();var s=$(this).attr("href");$("html, body").animate({scrollTop:$(""+s).offset().top},900)})}()}),$(window).on("load",function(){!function(){$(".js-equal-height").length&&$(".js-equal-height-parent").each(function(){var e=$(this).find($(".js-equal-height"));e.equalHeights(),$(window).on("resize",function(){e.css("height","auto"),e.equalHeights()})})}($),function(){$(".js-scroll").length&&$(".js-scroll").mCustomScrollbar(),$(".js-scroll-arrows").length&&$(".js-scroll-arrows").mCustomScrollbar({scrollButtons:{enable:!0}})}()});